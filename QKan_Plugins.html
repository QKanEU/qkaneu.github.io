<!DOCTYPE html>
<html class="writer-html5" lang="de" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Erstellung von QKan-Plugins &mdash; QKan 3.3.1 Dokumentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b76e3c8a" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=8209df7b" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=3d1d8b85"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=4a9fcc6a"></script>
        <script src="_static/doctools.js?v=a6d80eb4"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/translations.js?v=57cff002"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="genindex.html" />
    <link rel="search" title="Suche" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            QKan
          </a>
              <div class="version">
                3.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Dokumentation durchsuchen" aria-label="Dokumentation durchsuchen" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Allgemeines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="QKan_allgemein.html">Was ist QKan?</a></li>
<li class="toctree-l1"><a class="reference internal" href="QKan_aufsetzen.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="QKan_faq.html">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Funktionen</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="QKan_Datenaustausch.html">Datenaustausch</a></li>
<li class="toctree-l1"><a class="reference internal" href="QKan_flaechen.html">Arbeiten mit Flächen</a></li>
<li class="toctree-l1"><a class="reference internal" href="QKan_Daten.html">Daten</a></li>
<li class="toctree-l1"><a class="reference internal" href="QKan_workflow.html">Beispielprojekt</a></li>
<li class="toctree-l1"><a class="reference internal" href="QKan_qfield.html">QKan-Projekte auf dem Tablet</a></li>
<li class="toctree-l1"><a class="reference internal" href="QKan_edit.html">Erstellen und Bearbeiten von Kanalnetzen</a></li>
<li class="toctree-l1"><a class="reference internal" href="QKan_Zustandsklassifizierung.html">Zustandsklassifizierung</a></li>
<li class="toctree-l1"><a class="reference internal" href="QKan_Sanierungsbedarfszahl.html">Sanierungsbedarfszahl</a></li>
<li class="toctree-l1"><a class="reference internal" href="QKan_Substanzklassifizierung.html">SubKanS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Übersicht</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="QKan_Formulare.html">Formulare</a></li>
<li class="toctree-l1"><a class="reference internal" href="QKan_Tabellen.html">QKan-Tabellen</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">QKan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Erstellung von QKan-Plugins</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/QKan_Plugins.rst.txt" rel="nofollow"> Quelltext anzeigen</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="erstellung-von-qkan-plugins">
<h1>Erstellung von QKan-Plugins<a class="headerlink" href="#erstellung-von-qkan-plugins" title="Link to this heading"></a></h1>
<p>Grundsätzlich entspricht die Erstellung von QKan-Plugins in weiten Teilen der für QGIS empfohlenen Vorgehensweise.
Wenn das Plugin als Bestandteil von QKan fungieren soll, sind lediglich einige kleinere Anpassungen und Ergänzungen notwendig.
An dieser Stelle wird der Einfachheit halber der gesamte Workflow erläutert.</p>
<section id="vorbereitung-des-moduls">
<h2>Vorbereitung des Moduls<a class="headerlink" href="#vorbereitung-des-moduls" title="Link to this heading"></a></h2>
<p>Am einfachsten ist es, den Vorlage-Ordner „template“ in das QKan-Module-Verzeichnis .plugins/qkan zu kopieren und diesen dann entsprechend dem
gewünschten Modulnamen umzubenennen, wie z. B. das bereits existierende Modul „he8porter“.</p>
</section>
<section id="erzeugen-von-modul-icons">
<h2>Erzeugen von Modul-Icons<a class="headerlink" href="#erzeugen-von-modul-icons" title="Link to this heading"></a></h2>
<p>Ein Modul benötigt mindestens ein Icon, kann aber auch mehrere verwenden. Diese sollten im Dateityp <cite>*</cite>.png in der Größe von 32 x 32 oder
64 x 64 Pixeln vorliegen, wobei beinahe beliebige Pixelgrößen verarbeitet werden.
Alle Icons eines Moduls müssen mit dem Programm „pyrcc5.exe“ in die Python-Datei resources.py umgewandelt werden. Dazu muss der Pfad zu
den Icons in der Datei resource.qrc als relatvier Pfad bezogen auf das Modulverzeichnis eingetragen sein. Da für die Umwandlung
einige Voreinstellungen (hierfür ist das Ausführen der Datei „o4w_env.bat“ empfehlenswert) notwendig sind, empfiehlt sich die
Verwendung der durch das ISCE erstellten Batch-Datei „make resource.bat“.</p>
</section>
<section id="anpassungen-in-den-moduldateien-py">
<h2>Anpassungen in den Moduldateien (<cite>*</cite>.py)<a class="headerlink" href="#anpassungen-in-den-moduldateien-py" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>Folgende Bezeichnungen müssen angepasst werden:</dt><dd><ul class="simple">
<li><p>„template“ durch den gewählten Modulnamen</p></li>
<li><p>Icon-Bezeichnungen. Bei mehreren Icons müssen auch mehrere Aufrufe von QKan.instance.add_action() erfolgen</p></li>
<li><p>In der Methode unload(self) müssen alle Dialoge wieder geschlossen werden</p></li>
</ul>
</dd>
</dl>
<section id="help-schaltflache-anbinden">
<h3>Help-Schaltfläche anbinden<a class="headerlink" href="#help-schaltflache-anbinden" title="Link to this heading"></a></h3>
<p>Die Schaltfläche Methode application_dialog.click_help()</p>
<p>Mit der Funktion <a class="reference internal" href="_images/Tool_import_mike.png"><img alt="Tool_import_mike" src="_images/Tool_import_mike.png" style="width: 1.25em;" /></a> <span class="guilabel">Import aus Mike+</span> kann eine Mike+ Datenbank umgeschrieben werden in eine QKan-Datenbank.</p>
<img alt="_images/import_mike.png" src="_images/import_mike.png" />
</section>
<section id="datenquelle">
<h3>Datenquelle<a class="headerlink" href="#datenquelle" title="Link to this heading"></a></h3>
<p>In diesem Bereich wird die mit Mike+ erstellte Quelldatenbank (Endung .sqlite) ausgewählt. Darunter muss das Projektionssystem ausgewählt
werden, in dem die Daten <strong>in der Datenquelle</strong> gespeichert sind. In dem gleichen Projektionssystem sollte das QKan-Projekt aufgebaut
werden, sodass diese identisch sind.</p>
</section>
<section id="datenziel">
<h3>Datenziel<a class="headerlink" href="#datenziel" title="Link to this heading"></a></h3>
<p>Hier wird das Datenziel - die Sqlite-Datenbank - ausgewählt. Ist noch keine Zieldatenbank vorhanden, kann diese hier erstellt werden.</p>
</section>
<section id="projektdatei-erzeugen">
<h3>Projektdatei erzeugen<a class="headerlink" href="#projektdatei-erzeugen" title="Link to this heading"></a></h3>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017 - 2022, Hoettges.</p>
  </div>

  Erstellt mit <a href="https://www.sphinx-doc.org/">Sphinx</a> mit einem
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    bereitgestellt von <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>